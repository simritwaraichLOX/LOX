(function(e){function t(t){for(var a,o,i=t[0],l=t[1],d=t[2],c=0,m=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,d||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var l=r[i];0!==n[l]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Navbar")],1)},s=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{href:"#"}},[e._v("LOX")]),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/"}},[e._v("Home")]),e._l(e.links_isLoggedIn,(function(t){return r("b-nav-item",{key:t.id,attrs:{to:t.path}},[e.isLoggedIn?[e._v(" "+e._s(t.name)+" ")]:e._e()],2)})),e.isLoggedIn&&e.isAdmin?r("b-nav-item",{attrs:{to:{path:"admin"}}},[e._v(" Admin ")]):e._e()],2),r("b-navbar-nav",{staticClass:"ml-auto"},[e._l(e.links_noLoggedIn,(function(t){return r("b-nav-item",{key:t.id,attrs:{to:t.path}},[e.isLoggedIn?e._e():[e._v(" "+e._s(t.name)+" ")]],2)})),e.isLoggedIn?r("b-nav-item",{on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v(" Logout ")]):e._e()],2)],1)],1)],1),r("router-view")],1)},i=[],l=(r("caad"),r("2532"),{name:"Navbar",data:function(){return{links_noLoggedIn:[{id:"signup",name:"SIGN UP",path:"/signup"},{id:"login",name:"LOG IN",path:"/login"}],links_isLoggedIn:[{id:"documents",name:"Documents",path:"/documents"}],username:""}},computed:{isLoggedIn:function(){return this.$store.state.user},isAdmin:function(){var e=this.$store.state.roles.includes("ROLE_ADMIN");return e}},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")}}}),d=l,u=r("2877"),c=Object(u["a"])(d,o,i,!1,null,null,null),m=c.exports,f={components:{Navbar:m}},p=f,v=(r("034f"),Object(u["a"])(p,n,s,!1,null,null,null)),g=v.exports,h=(r("45fc"),r("8c4f")),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Hi "+e._s(e.username))]),r("input",{attrs:{type:"button",value:"Logout"},on:{click:e.logout}})])},w=[],y=(r("96cf"),r("1da1")),_={data:function(){return{username:""}},created:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.getters.isLoggedIn||e.$router.push("/login"),e.username=e.$store.getters.getUser;case 2:case"end":return t.stop()}}),t)})))()},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")}}},k=_,$=Object(u["a"])(k,b,w,!1,null,null,null),x=$.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-12"},[r("div",{staticClass:"card card-container"},[r("h1",[e._v("Sign Up")]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[r("h6",{staticClass:"label"},[e._v("First Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.first_name,expression:"first_name"}],staticClass:"col-12",attrs:{type:"text",placeholder:"John"},domProps:{value:e.first_name},on:{input:function(t){t.target.composing||(e.first_name=t.target.value)}}})]),r("div",{staticClass:"col-6"},[r("h6",{staticClass:"label"},[e._v("Last Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.last_name,expression:"last_name"}],staticClass:"col-12",attrs:{type:"text",placeholder:"Smith"},domProps:{value:e.last_name},on:{input:function(t){t.target.composing||(e.last_name=t.target.value)}}})])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("h6",{staticClass:"label"},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"col-12",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),r("div",{staticClass:"col-12"},[r("h6",{staticClass:"label"},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"col-12",attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",{staticClass:"col-12"},[r("h6",{staticClass:"label"},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"col-12",attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("div",{staticClass:"col-12"},[r("h6",{staticClass:"label"},[e._v("Confirm Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password_repeat,expression:"password_repeat"}],staticClass:"col-12",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password_repeat},on:{input:function(t){t.target.composing||(e.password_repeat=t.target.value)}}})])]),r("input",{staticClass:"btn btn-dark",attrs:{type:"button",value:"Sign Up"},on:{click:e.signUp}}),e.msg?r("p",[e._v(e._s(e.msg))]):e._e()])])},O=[],U=r("bc3a"),L=r.n(U),S="http://http://ec2-3-96-168-166.ca-central-1.compute.amazonaws.com:8080/api/",F={login:function(e){return L.a.post(S+"login/",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},signUp:function(e){return L.a.post(S+"sign-up/",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},P={data:function(){return{username:"",email:"",first_name:"",last_name:"",password:"",password_repeat:"",msg:""}},methods:{signUp:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,password:e.password,password_repeat:e.password_repeat},t.next=4,F.signUp(r);case 4:a=t.sent,e.msg=a.msg,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.msg=t.t0.response.data.msg;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},K=P,j=(r("a823"),Object(u["a"])(K,C,O,!1,null,"a33d29d4",null)),q=j.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-12"},[r("div",{staticClass:"card card-container"},[r("h1",[e._v("Log in")]),r("div",{staticClass:"row"},[r("h6",{staticClass:"label"},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"col-12",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),r("div",{staticClass:"row"},[r("h6",{staticClass:"label"},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"col-12",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("input",{staticClass:"btn btn-dark",attrs:{type:"button",value:"Login"},on:{click:e.login}}),e.msg?r("p",[e._v(e._s(e.msg))]):e._e()])])},R=[],I={data:function(){return{username:"",password:"",msg:""}},methods:{login:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={username:e.username,password:e.password},t.next=4,F.login(r);case 4:a=t.sent,e.msg=a.msg,n=a.accessToken,s=a.username,o=a.id,i=a.roles,e.$store.dispatch("login",{token:n,user:s,id:o,roles:i}).then().catch((function(e){return console.log(e)})),e.$router.push("/"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),e.msg=t.t0.response.data.msg;case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}},N=I,A=(r("d906"),Object(u["a"])(N,E,R,!1,null,"81af1d52",null)),M=A.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container col-12"},[r("div",{staticClass:"container col-10"},[r("b-row",[r("b-col",{attrs:{cols:"2"}},[r("b-pagination",{attrs:{"total-rows":e.rows_docs,"aria-controls":"doc-table"},model:{value:e.currentPage_docs,callback:function(t){e.currentPage_docs=t},expression:"currentPage_docs"}})],1),r("b-col",{attrs:{cols:"7"}},[r("b-row",[r("div",{staticClass:"text-left"},[r("b-button",{attrs:{variant:"outline-dark"},on:{click:function(t){return e.resetFiles()}}},[e._v(" Reset ")])],1),e._l(e.displayFilters,(function(t){return r("div",{key:t.id,staticClass:"filterKeywords"},[t.keyword_enabled?r("b-button",{attrs:{variant:"outline-dark"},on:{click:function(r){return e.searchByKeywords(t)}}},[e._v(" "+e._s(t.keyword_name)+" ")]):r("b-button",{staticClass:"filter",attrs:{variant:"dark"},on:{click:function(r){return e.resetKeyword(t)}}},[e._v(" "+e._s(t.keyword_name)+" ")])],1)}))],2)],1),r("b-col",{attrs:{cols:"3"}},[r("div",{staticClass:"text-right"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.filter,expression:"filter",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Quick Search"},domProps:{value:e.filter},on:{keyup:e.filterFiles,input:function(t){t.target.composing||(e.filter=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-upload",modifiers:{"modal-upload":!0}}],staticClass:"icon",attrs:{variant:"outline-dark",size:"sm"}},[r("i",{staticClass:"fas fa-cloud-upload-alt",attrs:{id:"icon"}})])],1)])],1),r("b-row",[r("b-table",{staticClass:"doc-table",attrs:{"head-variant":"dark",hover:"","per-page":e.perPage_docs,"current-page":e.currentPage_docs,items:e.displayItems,fields:e.fields},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){var a=t.item;return[r("b-button",{staticClass:"download",attrs:{variant:"outline-primary"},on:{click:function(t){return e.downloadItem(a)}}},[r("i",{staticClass:"fas fa-download"})])]}}])})],1)],1),r("div",[r("Upload",{attrs:{options:e.options},on:{clicked:e.onFormUpload}})],1)])},T=[],B=(r("a4d3"),r("e01a"),r("4de4"),r("c740"),r("d81d"),r("a434"),r("b0c0"),r("b64b"),r("19de")),z=r.n(B),H="http://http://ec2-3-96-168-166.ca-central-1.compute.amazonaws.com:8080/api/",J={download:function(e){return console.log(e),L.a.post(H+"download/",{id:e.id,storage_name:e.storage_name},{responseType:"blob"}).then((function(t){z()(t.data,e.file_name)})).catch((function(e){console.log(e)}))},upload:function(e){return console.log(e),L.a.post(H+"upload/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},getFiles:function(e){return L.a.get(H+"file/"+e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},getAllKeywords:function(){return L.a.get(H+"keywords/").then((function(e){return e.data})).catch((function(e){console.log(e)}))},filterByKeywords:function(e,t){return L.a.post(H+"filterbykeywords/"+e,t).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"uploads",attrs:{id:"modal-upload",title:"Upload File"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[r("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("b-form-group",{attrs:{label:"File Name","label-for":"file_name-input","invalid-feedback":"Document Name is required"}},[r("b-form-input",{attrs:{id:"file_name-input",state:e.validState("file_name")},model:{value:e.$v.form.file_name.$model,callback:function(t){e.$set(e.$v.form.file_name,"$model",t)},expression:"$v.form.file_name.$model"}})],1),r("b-form-group",[r("b-form-file",{attrs:{state:e.validState("file"),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:e.$v.form.file.$model,callback:function(t){e.$set(e.$v.form.file,"$model",t)},expression:"$v.form.file.$model"}})],1),r("b-form-group",{attrs:{label:"Keywords","label-for":"keyword-input","invalid-feedback":"Please select one or more keywords"}},[r("b-form-select",{attrs:{id:"keyword-input",state:e.validState("keywords"),options:e.options,multiple:"","select-size":4},model:{value:e.$v.form.keywords.$model,callback:function(t){e.$set(e.$v.form.keywords,"$model",t)},expression:"$v.form.keywords.$model"}})],1)],1)])],1)},Q=[],X=r("b5ae"),V={name:"modal-upload",props:{options:Array},data:function(){return{file:null,keywords:[],form:{file_name:null,file:null,keywords:[]}}},validations:{form:{file_name:{required:X["required"],minLength:Object(X["minLength"])(4)},file:{required:X["required"]},keywords:{required:X["required"]}}},methods:{validState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},resetModal:function(){},handleOk:function(e){e.preventDefault(),console.log(this.form.keywords),this.handleSubmit()},handleSubmit:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=4;break}return console.log("Error"),t.abrupt("return");case 4:return r=new FormData,a=e.$store.getters.getID,r.append("userId",a),r.append("files",e.form.file),r.append("keywords",e.form.keywords),t.prev=9,t.next=12,J.upload(r);case 12:n=t.sent,n&&(e.$emit("clicked",!0),e.$nextTick((function(){e.$bvModal.hide("modal-upload")}))),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](9),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[9,16]])})))()}}},W=V,Y=Object(u["a"])(W,G,Q,!1,null,null,null),Z=Y.exports,ee={components:{Upload:Z},data:function(){return{currentPage_docs:1,perPage_docs:8,username:"",message:"",items:[],displayItems:[],displayKeywords:[],displayFilters:[],keywords:[],filterByKeywords:[],filter:"",userSearch:"",roles:"",options:[],fields:[{key:"file_name",sortable:!0},{key:"file_size",sortable:!1},{key:"created",sortable:!0},{key:"actions"}]}},created:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.getters.isLoggedIn||e.$router.push("/login"),e.username=e.$store.getters.getUser,e.roles=e.$store.getters.getUserRoles,e.getAllFiles(),e.getAllKeywords();case 5:case"end":return t.stop()}}),t)})))()},computed:{nameState:function(){return this.name.length>2},rows_docs:function(){var e=0;return"undefined"!==typeof this.displayItems&&this.displayItems.length>0&&(e=this.displayItems.length),e}},methods:{resetFiles:function(){for(var e=0;e<this.displayFilters.length;e++)this.displayFilters[e].keyword_enabled=!0;this.filterByKeywords=[],this.displayItems=this.items},resetKeyword:function(e){var t=this.displayFilters.findIndex((function(t){return t.id==e.id}));this.displayFilters[t].keyword_enabled=!0,t=this.filterByKeywords.findIndex((function(t){return t.id==e.id})),this.filterByKeywords.splice(t,1)},searchByKeywords:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.filterByKeywords.push(e),a=t.displayFilters.findIndex((function(t){return t.id==e.id})),t.displayFilters[a].keyword_enabled=!1,n=t.$store.getters.getID,r.prev=4,r.next=7,J.filterByKeywords(n,t.filterByKeywords);case 7:s=r.sent,t.displayItems=s.data,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](4),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[4,11]])})))()},onFormUpload:function(e){e&&this.getAllFiles()},deleteItem:function(e){console.log(e)},downloadItem:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.$store.getters.getID,n={id:a,file_name:e.file_name,storage_name:e.storage_name},r.prev=2,r.next=5,J.download(n);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](2),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()},getAllKeywords:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,o,i,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.getAllKeywords();case 3:for(r=t.sent,a=[],n=[],s=[],o=0;o<r.data.length;o++)i={keyword_name:r.data[o].keyword_name,description:r.data[o].description,created:r.data[o].created},l={value:r.data[o].id,text:r.data[o].keyword_name},d={id:r.data[o].id,keyword_enabled:!0,keyword_name:r.data[o].keyword_name},n.push(l),a.push(i),s.push(d);e.displayFilters=s,e.options=n,e.keywords=a,e.displayKeywords=a,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},getAllFiles:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$store.getters.getID,t.next=4,J.getFiles(r);case 4:a=t.sent,e.items=a.data,e.displayItems=a.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},filterFiles:function(){var e=this;if(""!=this.filter){var t=this.displayFiles.filter((function(t){return Object.keys(t).map((function(r){return"string"===typeof t[r]&&t[r].toLocaleLowerCase().includes(e.filter.toLocaleLowerCase())})).includes(!0)}));this.displayFiles=t}else this.displayFiles=this.files},onSearch:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$store.getters.getID,t.next=4,J.getFiles(r);case 4:t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},onRowSelected:function(e,t){console.log(e),console.log(t)}}},te=ee,re=(r("68d4"),Object(u["a"])(te,D,T,!1,null,"08d3f1c3",null)),ae=re.exports,ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-application"},[r("div",{staticClass:"col-12"},[r("b-tabs",{attrs:{pills:"",card:""}},[r("b-tab",{attrs:{title:"Users",active:""}},[r("b-container",{staticClass:"col-10"},[r("b-row",{staticClass:"row",attrs:{"align-h":"between"}},[r("b-col",{staticClass:"text-left",attrs:{cols:"6"}},[r("b-pagination",{attrs:{"total-rows":e.rows_users,"per-page":e.perPage_user,"aria-controls":"user-table"},model:{value:e.currentPage_user,callback:function(t){e.currentPage_user=t},expression:"currentPage_user"}})],1),r("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.filter,expression:"filter",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Filter"},domProps:{value:e.filter},on:{keyup:e.filterUsers,input:function(t){t.target.composing||(e.filter=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-user",modifiers:{"modal-user":!0}}],staticClass:"icon",attrs:{variant:"outline-dark",size:"sm"}},[r("i",{staticClass:"fas fa-user-plus",attrs:{id:"icon"}})])],1)],1),r("b-row",[r("b-table",{staticClass:"user-table",attrs:{"head-variant":"dark",hover:"","per-page":e.perPage_user,"current-page":e.currentPage_user,items:e.displayUsers,fields:e.user_fields},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){var a=t.item;return[r("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onEditItem(a)}}},[e._v("Edit")])]}}])})],1)],1)],1),r("b-tab",{attrs:{title:"Documents"}},[r("b-container",{staticClass:"container col-10"},[r("b-row",[r("b-col",{attrs:{cols:"2"}},[r("b-pagination",{attrs:{"total-rows":e.rows_docs,"aria-controls":"doc-table"},model:{value:e.currentPage_docs,callback:function(t){e.currentPage_docs=t},expression:"currentPage_docs"}})],1),r("b-col",{attrs:{cols:"7"}},[r("b-row",[r("div",{staticClass:"text-left"},[r("b-button",{attrs:{variant:"outline-dark"},on:{click:function(t){return e.resetFiles()}}},[e._v(" Reset ")])],1),e._l(e.displayFilters,(function(t){return r("div",{key:t.id,staticClass:"filterKeywords"},[t.keyword_enabled?r("b-button",{attrs:{variant:"outline-dark"},on:{click:function(r){return e.searchByKeywords(t)}}},[e._v(" "+e._s(t.keyword_name)+" ")]):r("b-button",{staticClass:"filter",attrs:{variant:"dark"},on:{click:function(r){return e.resetKeyword(t)}}},[e._v(" "+e._s(t.keyword_name)+" ")])],1)}))],2)],1),r("b-col",{attrs:{cols:"3"}},[r("div",{staticClass:"text-right"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.filter,expression:"filter",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Quick Search"},domProps:{value:e.filter},on:{keyup:e.filterFiles,input:function(t){t.target.composing||(e.filter=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-upload",modifiers:{"modal-upload":!0}}],staticClass:"icon",attrs:{variant:"outline-dark",size:"sm"}},[r("i",{staticClass:"fas fa-cloud-upload-alt",attrs:{id:"icon"}})])],1)])],1),r("b-row",[r("b-table",{staticClass:"doc-table",attrs:{"head-variant":"dark",hover:"","per-page":e.perPage_docs,"current-page":e.currentPage_docs,items:e.displayFiles,fields:e.doc_fields},scopedSlots:e._u([{key:"cell(actions)",fn:function(t){var a=t.item;return[r("b-button",{staticClass:"download",attrs:{variant:"outline-primary"},on:{click:function(t){return e.downloadItem(a)}}},[r("i",{staticClass:"fas fa-download"})])]}}])})],1)],1)],1),r("b-tab",{attrs:{title:"Keywords"}},[r("b-container",{staticClass:"col-10"},[r("b-row",{staticClass:"row",attrs:{"align-h":"between"}},[r("b-col",{staticClass:"text-left",attrs:{cols:"6"}},[r("b-pagination",{attrs:{"total-rows":e.rows_keywords,"per-page":e.perPage_keywords,"aria-controls":"keywords-table"},model:{value:e.currentPage_keywords,callback:function(t){e.currentPage_keywords=t},expression:"currentPage_keywords"}})],1),r("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.filter,expression:"filter",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Filter"},domProps:{value:e.filter},on:{keyup:e.filterKeywords,input:function(t){t.target.composing||(e.filter=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-keyword",modifiers:{"modal-keyword":!0}}],staticClass:"icon",attrs:{variant:"outline-dark",size:"sm"}},[e._v("New Keyword")])],1)],1),r("b-row",[r("b-table",{staticClass:"keywords-table",attrs:{"head-variant":"dark",hover:"","per-page":e.perPage_keywords,"current-page":e.currentPage_keywords,items:e.displayKeywords,fields:e.keyword_fields}})],1)],1)],1)],1)],1),r("ModalUpload",{attrs:{options:e.options},on:{clicked:e.onFormUpload}}),r("ModalUser",{attrs:{modalType:"create"},on:{clicked:e.onNewUser}}),r("ModalKeyword",{on:{clicked:e.onNewKeyword}}),r("ModalEditUser",{attrs:{editUser:e.editUser},on:{clicked:e.onEditUser}})],1)},se=[],oe="http://http://ec2-3-96-168-166.ca-central-1.compute.amazonaws.com:8080/api/admin/",ie={getAllUsers:function(){return L.a.get(oe+"users/").then((function(e){return e.data})).catch((function(e){console.log(e)}))},getAllFiles:function(){return L.a.get(oe+"files/").then((function(e){return e.data})).catch((function(e){console.log(e)}))},createUser:function(e){return L.a.post(oe+"users/",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},updateUser:function(e){return L.a.post(oe+"update_users/",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},createKeyword:function(e){return L.a.post(oe+"keywords/",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},getAllKeywords:function(){return L.a.get(oe+"keywords/").then((function(e){return e.data})).catch((function(e){console.log(e)}))}},le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"modal",attrs:{id:"modal-user",title:"New User"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[r("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("b-row",[r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"First Name","label-for":"first-name-input","invalid-feedback":"First Name is required"}},[r("b-form-input",{attrs:{id:"first-name-input",state:e.validState("first_name"),required:""},model:{value:e.$v.form.first_name.$model,callback:function(t){e.$set(e.$v.form.first_name,"$model",t)},expression:"$v.form.first_name.$model"}})],1)],1),r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"Last Name","label-for":"last-name-input","invalid-feedback":"Last Name is required"}},[r("b-form-input",{attrs:{id:"last-name-input",state:e.validState("last_name"),required:""},model:{value:e.$v.form.last_name.$model,callback:function(t){e.$set(e.$v.form.last_name,"$model",t)},expression:"$v.form.last_name.$model"}})],1)],1)],1),r("b-form-group",{attrs:{label:"E-Mail","label-for":"email-input","invalid-feedback":"Email is required"}},[r("b-form-input",{attrs:{id:"email-input",state:e.validState("email"),required:""},model:{value:e.$v.form.email.$model,callback:function(t){e.$set(e.$v.form.email,"$model",t)},expression:"$v.form.email.$model"}})],1),r("b-form-group",{attrs:{label:"Username","label-for":"username-input","invalid-feedback":"Username is required"}},[r("b-form-input",{attrs:{id:"username-input",state:e.validState("username"),required:""},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}})],1),r("b-form-group",{attrs:{label:"Password","label-for":"password-input","invalid-feedback":"Password is required"}},[r("b-form-input",{attrs:{id:"password-input",state:e.validState("password"),required:"",type:"password"},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}})],1),r("b-form-group",{attrs:{label:"Confirm Password","label-for":"confirm-password-input","invalid-feedback":"Confirm Password is required"}},[r("b-form-input",{attrs:{id:"confirm-password-input",state:e.validState("confirm_password"),required:"",type:"password"},model:{value:e.$v.form.confirm_password.$model,callback:function(t){e.$set(e.$v.form.confirm_password,"$model",t)},expression:"$v.form.confirm_password.$model"}})],1)],1)])],1)},de=[],ue={name:"modal-user",props:{modalType:String},data:function(){return{msg:"",form:{first_name:null,last_name:null,email:null,username:null,password:null,confirm_password:null}}},validations:{form:{first_name:{required:X["required"],minLength:Object(X["minLength"])(4)},last_name:{required:X["required"],minLength:Object(X["minLength"])(4)},username:{required:X["required"],minLength:Object(X["minLength"])(4)},email:{required:X["required"],minLength:Object(X["minLength"])(4)},password:{required:X["required"],minLength:Object(X["minLength"])(4)},confirm_password:{required:X["required"],minLength:Object(X["minLength"])(4)}}},methods:{validState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},resetModal:function(){},handleOk:function(e){e.preventDefault(),console.log(this.modalType),this.handleSubmit()},handleSubmit:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=4;break}return console.log("Error"),t.abrupt("return");case 4:return t.prev=4,r={username:e.form.username,email:e.form.email,first_name:e.form.first_name,last_name:e.form.last_name,password:e.form.password,password_repeat:e.form.confirm_password},t.next=8,F.signUp(r);case 8:a=t.sent,a&&(e.$emit("clicked",!0),e.$nextTick((function(){e.$bvModal.hide("modal-user")}))),console.log(a),e.msg=a.msg,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),e.msg=t.t0.response.data.msg;case 17:case"end":return t.stop()}}),t,null,[[4,14]])})))()}}},ce=ue,me=Object(u["a"])(ce,le,de,!1,null,null,null),fe=me.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"keywords",attrs:{id:"modal-keyword",title:"New Keyword"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[r("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("b-form-group",{attrs:{label:"Keyword","label-for":"keyword-name-input","invalid-feedback":"Keyword is required"}},[r("b-form-input",{attrs:{id:"keyword-name-input",state:e.validState("keyword"),required:""},model:{value:e.$v.form.keyword.$model,callback:function(t){e.$set(e.$v.form.keyword,"$model",t)},expression:"$v.form.keyword.$model"}})],1),r("b-form-group",{attrs:{label:"Description","label-for":"description-input","invalid-feedback":"Description is required"}},[r("b-form-input",{attrs:{id:"description-input",state:e.validState("description"),required:""},model:{value:e.$v.form.description.$model,callback:function(t){e.$set(e.$v.form.description,"$model",t)},expression:"$v.form.description.$model"}})],1)],1)])],1)},ve=[],ge={name:"modal-keyword",props:{},data:function(){return{form:{keyword:null,description:null}}},validations:{form:{keyword:{required:X["required"],minLength:Object(X["minLength"])(4)},description:{required:X["required"],minLength:Object(X["minLength"])(4)}}},methods:{validState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},resetModal:function(){},handleOk:function(e){e.preventDefault(),this.handleSubmit()},handleSubmit:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=4;break}return console.log("Error"),t.abrupt("return");case 4:return r={keyword:e.$v.form.keyword.$model,description:e.$v.form.description.$model},t.prev=5,t.next=8,ie.createKeyword(r);case 8:a=t.sent,a&&(e.$emit("clicked",!0),e.$nextTick((function(){e.$bvModal.hide("modal-keyword")}))),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log(t.t0);case 15:e.$nextTick((function(){e.$bvModal.hide("modal-keyword")}));case 16:case"end":return t.stop()}}),t,null,[[5,12]])})))()}}},he=ge,be=Object(u["a"])(he,pe,ve,!1,null,null,null),we=be.exports,ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"edituser",attrs:{id:"modal-edituser",title:"Edit User"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[r("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("b-row",[r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"First Name","label-for":"first-name-input","invalid-feedback":"First Name is required"}},[r("b-form-input",{attrs:{id:"first-name-input",state:e.validState("first_name"),required:""},model:{value:e.$v.form.first_name.$model,callback:function(t){e.$set(e.$v.form.first_name,"$model",t)},expression:"$v.form.first_name.$model"}})],1)],1),r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"Last Name","label-for":"last-name-input","invalid-feedback":"Last Name is required"}},[r("b-form-input",{attrs:{id:"last-name-input",state:e.validState("last_name"),required:""},model:{value:e.$v.form.last_name.$model,callback:function(t){e.$set(e.$v.form.last_name,"$model",t)},expression:"$v.form.last_name.$model"}})],1)],1)],1),r("b-form-group",{attrs:{label:"E-Mail","label-for":"email-input","invalid-feedback":"Email is required"}},[r("b-form-input",{attrs:{id:"email-input",state:e.validState("email"),required:""},model:{value:e.$v.form.email.$model,callback:function(t){e.$set(e.$v.form.email,"$model",t)},expression:"$v.form.email.$model"}})],1),r("b-form-group",{attrs:{label:"Username","label-for":"username-input","invalid-feedback":"Username is required"}},[r("b-form-input",{attrs:{id:"username-input",state:e.validState("username"),required:""},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}})],1)],1)])],1)},_e=[],ke={name:"modal-edituser",props:{editUser:Object},data:function(){return{msg:"",form:{first_name:null,last_name:null,email:null,username:null}}},watch:{editUser:function(e){this.form.first_name=e.first_name,this.form.last_name=e.last_name,this.form.email=e.email,this.form.username=e.username}},validations:{form:{first_name:{required:X["required"],minLength:Object(X["minLength"])(4)},last_name:{required:X["required"],minLength:Object(X["minLength"])(4)},username:{required:X["required"],minLength:Object(X["minLength"])(4)},email:{required:X["required"],minLength:Object(X["minLength"])(4)}}},methods:{validState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},resetModal:function(){},handleOk:function(e){e.preventDefault(),console.log(this.editUser.id),this.handleSubmit()},handleSubmit:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=4;break}return console.log("Error"),t.abrupt("return");case 4:return t.prev=4,r={id:e.editUser.id,username:e.form.username,email:e.form.email,first_name:e.form.first_name,last_name:e.form.last_name},t.next=8,ie.updateUser(r);case 8:a=t.sent,a&&(e.$emit("clicked",!0),e.$nextTick((function(){e.$bvModal.hide("modal-edituser")}))),console.log(a),e.msg=a.msg,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),e.msg=t.t0.response.data.msg;case 17:case"end":return t.stop()}}),t,null,[[4,14]])})))()}}},$e=ke,xe=Object(u["a"])($e,ye,_e,!1,null,null,null),Ce=xe.exports,Oe={components:{ModalUpload:Z,ModalUser:fe,ModalKeyword:we,ModalEditUser:Ce},data:function(){return{displayUsers:[],displayFiles:[],displayKeywords:[],displayItems:[],displayFilters:[],editUser:{id:null,first_name:null,last_name:null,username:null,email:null},keywords:[],filter:"",filterByKeywords:[],files:[],id:"",message:"",username:"",roles:"",users:[],userSearch:"",options:[],perPage_user:8,currentPage_user:1,perPage_docs:8,currentPage_docs:1,currentPage_keywords:1,perPage_keywords:8,user_fields:[{key:"first_name",sortable:!0},{key:"last_name",sortable:!0},{key:"email",sortable:!0},{key:"username",sortable:!0},{key:"registered",sortable:!0},{key:"last_login",sortable:!0},{key:"actions"}],doc_fields:[{key:"file_name",sortable:!0},{key:"file_size",sortable:!1},{key:"created",sortable:!0},{key:"actions"}],keyword_fields:[{key:"keyword_name",sortable:!0},{key:"description",sortable:!1},{key:"created",sortable:!0}]}},created:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.getters.isLoggedIn||e.$router.push("/login"),e.id=e.$store.getters.getID,e.username=e.$store.getters.getUser,e.roles=e.$store.getters.getUserRoles,e.getAllFiles(),e.getAllUsers(),e.getAllKeywords();case 7:case"end":return t.stop()}}),t)})))()},computed:{rows_users:function(){var e=0;return"undefined"!==typeof this.displayUsers&&this.displayUsers.length>0&&(e=this.displayUsers.length),e},rows_docs:function(){var e=0;return"undefined"!==typeof this.displayFiles&&this.displayFiles.length>0&&(e=this.displayFiles.length),e},rows_keywords:function(){var e=0;return"undefined"!==typeof this.displayKeywords&&this.displayKeywords>0&&(e=this.displayKeywords.length),e}},methods:{downloadItem:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.$store.getters.getID,n={id:a,file_name:e.file_name,storage_name:e.storage_name},r.prev=2,r.next=5,J.download(n);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](2),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()},resetKeyword:function(e){var t=this.displayFilters.findIndex((function(t){return t.id==e.id}));this.displayFilters[t].keyword_enabled=!0,t=this.filterByKeywords.findIndex((function(t){return t.id==e.id})),this.filterByKeywords.splice(t,1)},resetFiles:function(){for(var e=0;e<this.displayFilters.length;e++)this.displayFilters[e].keyword_enabled=!0;this.filterByKeywords=[],this.displayFiles=this.files},searchByKeywords:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.filterByKeywords.push(e),a=t.displayFilters.findIndex((function(t){return t.id==e.id})),t.displayFilters[a].keyword_enabled=!1,n=t.$store.getters.getID,r.prev=4,r.next=7,J.filterByKeywords(n,t.filterByKeywords);case 7:s=r.sent,t.displayFiles=s.data,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](4),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[4,11]])})))()},onEditItem:function(e){var t={id:e.id,first_name:e.first_name,last_name:e.last_name,email:e.email,username:e.username};this.editUser=t,this.$bvModal.show("modal-edituser")},onEditUser:function(e){e&&this.getAllUsers()},onFormUpload:function(e){e&&this.getAllFiles()},onNewUser:function(e){e&&this.getAllUsers()},onNewKeyword:function(e){e&&this.getAllKeywords()},getAllKeywords:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,o,i,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.getAllKeywords();case 3:for(r=t.sent,a=[],n=[],s=[],o=0;o<r.data.length;o++)i={keyword_name:r.data[o].keyword_name,description:r.data[o].description,created:r.data[o].created},l={value:r.data[o].id,text:r.data[o].keyword_name},d={id:r.data[o].id,keyword_enabled:!0,keyword_name:r.data[o].keyword_name},n.push(l),a.push(i),s.push(d);e.displayFilters=s,e.options=n,e.keywords=a,e.displayKeywords=a,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},getAllUsers:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.getAllUsers();case 3:for(r=t.sent,a=[],n=0;n<r.data.length;n++)s={id:r.data[n].id,first_name:r.data[n].first_name,last_name:r.data[n].last_name,email:r.data[n].email,username:r.data[n].username,registered:r.data[n].registered,last_login:r.data[n].last_login},a.push(s);e.users=a,e.displayUsers=a,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getAllFiles:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.getFiles(e.id);case 3:r=t.sent,e.files=r.data,e.displayFiles=r.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},filterUsers:function(){var e=this;if(""!=this.filter){var t=this.displayUsers.filter((function(t){return Object.keys(t).map((function(r){return"string"===typeof t[r]&&t[r].toLocaleLowerCase().includes(e.filter.toLocaleLowerCase())})).includes(!0)}));this.displayUsers=t}else this.displayUsers=this.users},filterFiles:function(){var e=this;if(""!=this.filter){var t=this.displayFiles.filter((function(t){return Object.keys(t).map((function(r){return"string"===typeof t[r]&&t[r].toLocaleLowerCase().includes(e.filter.toLocaleLowerCase())})).includes(!0)}));this.displayFiles=t}else this.displayFiles=this.files},filterKeywords:function(){var e=this;if(""!=this.filter){var t=this.displayKeywords.filter((function(t){return Object.keys(t).map((function(r){return"string"===typeof t[r]&&t[r].toLocaleLowerCase().includes(e.filter.toLocaleLowerCase())})).includes(!0)}));this.displayKeywords=t}else this.displayKeywords=this.keywords}}},Ue=Oe,Le=(r("88eb"),Object(u["a"])(Ue,ne,se,!1,null,"3da98646",null)),Se=Le.exports,Fe=r("2f62"),Pe=r("0e44");a["default"].use(Fe["a"]);var Ke=function(){return{token:"",user:null,id:null,roles:[]}},je=new Fe["a"].Store({strict:!0,plugins:[Object(Pe["a"])()],state:Ke(),getters:{isLoggedIn:function(e){return e.token},getUser:function(e){return e.user},getID:function(e){return e.id},getUserRoles:function(e){return e.roles}},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_USER:function(e,t){e.user=t},SET_ID:function(e,t){e.id=t},SET_ROLES:function(e,t){e.roles=t},RESET:function(e){Object.assign(e,Ke())}},actions:{login:function(e,t){var r=e.commit,a=t.token,n=t.user,s=t.id,o=t.roles;r("SET_TOKEN",a),r("SET_USER",n),r("SET_ID",s),r("SET_ROLES",o),L.a.defaults.headers.common["Authorization"]="Bearer ".concat(a)},logout:function(e){var t=e.commit;t("RESET","")}}});a["default"].use(h["a"]);var qe=[{path:"/",name:"Home",component:x},{path:"/signup",name:"signup",component:q},{path:"/login",name:"login",component:M},{path:"/documents",name:"documents",component:ae,meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:Se,meta:{requiresAuth:!0,isAdmin:!0}}],Ee=new h["a"]({routes:qe});Ee.beforeEach((function(e,t,r){if(e.matched.some((function(e){return e.meta.requiresAuth})))return je.state.token?e.matched.some((function(e){return e.meta.isAdmin}))?je.state.roles.includes("ROLE_ADMIN")?r():r("/"):r():r("/");r()}));var Re=Ee,Ie=r("5f5b"),Ne=(r("f9e3"),r("1dce")),Ae=r.n(Ne);r("2dd8"),r("15f5"),r("7051");a["default"].config.productionTip=!1,a["default"].use(Ie["a"]),a["default"].use(Ae.a),L.a.defaults.headers.common["Authorization"]="Bearer ".concat(je.state.token),new a["default"]({router:Re,store:je,render:function(e){return e(g)}}).$mount("#app")},"68d4":function(e,t,r){"use strict";r("ec4d")},"85ec":function(e,t,r){},"88eb":function(e,t,r){"use strict";r("c6c8")},9947:function(e,t,r){},a7b4:function(e,t,r){},a823:function(e,t,r){"use strict";r("9947")},c6c8:function(e,t,r){},d906:function(e,t,r){"use strict";r("a7b4")},ec4d:function(e,t,r){}});
//# sourceMappingURL=app.1c9f0945.js.map