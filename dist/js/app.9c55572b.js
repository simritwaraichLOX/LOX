(function(e){function t(t){for(var a,o,i=t[0],l=t[1],c=t[2],u=0,m=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,i=1;i<r.length;i++){var l=r[i];0!==s[l]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},s={app:0},n=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"0c21":function(e,t,r){},"1e29":function(e,t,r){"use strict";r("eae3")},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=n(e);return r(t)}function n(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=n,e.exports=s,s.id="4678"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Navbar")],1)},n=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{href:"#"}},[e._v("LOX")]),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/"}},[e._v("Home")]),e._l(e.links_isLoggedIn,(function(t){return r("b-nav-item",{key:t.id,attrs:{to:t.path}},[e.isLoggedIn?[e._v(" "+e._s(t.name)+" ")]:e._e()],2)})),e.isLoggedIn&&e.isAdmin?r("b-nav-item",{attrs:{to:{path:"admin"}}},[e._v(" Admin ")]):e._e()],2),r("b-navbar-nav",{staticClass:"ml-auto"},[e._l(e.links_noLoggedIn,(function(t){return r("b-nav-item",{key:t.id,attrs:{to:t.path}},[e.isLoggedIn?e._e():[e._v(" "+e._s(t.name)+" ")]],2)})),e.isLoggedIn?r("b-nav-item",{on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v(" Logout ")]):e._e()],2)],1)],1)],1),r("router-view")],1)},i=[],l=(r("caad"),r("2532"),{name:"Navbar",data:function(){return{links_noLoggedIn:[{id:"login",name:"LOG IN",path:"/login"}],links_isLoggedIn:[{id:"documents",name:"Documents",path:"/documents"}],username:""}},computed:{isLoggedIn:function(){return this.$store.state.user},isAdmin:function(){var e=this.$store.state.roles.includes("ROLE_ADMIN");return e}},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")}}}),c=l,d=r("2877"),u=Object(d["a"])(c,o,i,!1,null,null,null),m=u.exports,f={components:{Navbar:m}},p=f,v=(r("034f"),Object(d["a"])(p,s,n,!1,null,null,null)),b=v.exports,g=(r("45fc"),r("8c4f")),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Hi "+e._s(e.username))]),r("input",{attrs:{type:"button",value:"Logout"},on:{click:e.logout}})])},w=[],y=(r("96cf"),r("1da1")),k={data:function(){return{username:""}},created:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.getters.isLoggedIn||e.$router.push("/login"),e.username=e.$store.getters.getUser;case 2:case"end":return t.stop()}}),t)})))()},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")}}},_=k,$=Object(d["a"])(_,h,w,!1,null,null,null),j=$.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-12"},[r("div",{staticClass:"card card-container"},[r("h1",[e._v("Sign Up")]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[r("h6",{staticClass:"label"},[e._v("First Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.first_name,expression:"first_name"}],staticClass:"col-12",attrs:{type:"text",placeholder:"John"},domProps:{value:e.first_name},on:{input:function(t){t.target.composing||(e.first_name=t.target.value)}}})]),r("div",{staticClass:"col-6"},[r("h6",{staticClass:"label"},[e._v("Last Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.last_name,expression:"last_name"}],staticClass:"col-12",attrs:{type:"text",placeholder:"Smith"},domProps:{value:e.last_name},on:{input:function(t){t.target.composing||(e.last_name=t.target.value)}}})])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("h6",{staticClass:"label"},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"col-12",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),r("div",{staticClass:"col-12"},[r("h6",{staticClass:"label"},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"col-12",attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",{staticClass:"col-12"},[r("h6",{staticClass:"label"},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"col-12",attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("div",{staticClass:"col-12"},[r("h6",{staticClass:"label"},[e._v("Confirm Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password_repeat,expression:"password_repeat"}],staticClass:"col-12",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password_repeat},on:{input:function(t){t.target.composing||(e.password_repeat=t.target.value)}}})])]),r("input",{staticClass:"btn btn-dark",attrs:{type:"button",value:"Sign Up"},on:{click:e.signUp}}),e.msg?r("p",[e._v(e._s(e.msg))]):e._e()])])},C=[],O=r("bc3a"),U=r.n(O),L="http://ec2-3-96-168-166.ca-central-1.compute.amazonaws.com:8080/api/",K={login:function(e){return U.a.post(L+"login/",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},signUp:function(e){return U.a.post(L+"sign-up/",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},S={data:function(){return{username:"",email:"",first_name:"",last_name:"",password:"",password_repeat:"",msg:""}},methods:{signUp:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,password:e.password,password_repeat:e.password_repeat},t.next=4,K.signUp(r);case 4:a=t.sent,e.msg=a.msg,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.msg=t.t0.response.data.msg;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},P=S,F=(r("a823"),Object(d["a"])(P,x,C,!1,null,"a33d29d4",null)),q=F.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-12"},[r("div",{staticClass:"card card-container"},[r("h1",[e._v("Log in")]),r("div",{staticClass:"row"},[r("h6",{staticClass:"label"},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"col-12",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),r("div",{staticClass:"row"},[r("h6",{staticClass:"label"},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"col-12",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("input",{staticClass:"btn btn-dark",attrs:{type:"button",value:"Login"},on:{click:e.login}}),e.msg?r("p",[e._v(e._s(e.msg))]):e._e()])])},I=[],R={data:function(){return{username:"",password:"",msg:""}},methods:{login:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={username:e.username,password:e.password},t.next=4,K.login(r);case 4:a=t.sent,e.msg=a.msg,s=a.accessToken,n=a.username,o=a.id,i=a.roles,e.$store.dispatch("login",{token:s,user:n,id:o,roles:i}).then().catch((function(e){return console.log(e)})),e.$router.push("/"),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),e.msg=t.t0.response.data.msg;case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}},N=R,D=(r("d906"),Object(d["a"])(N,E,I,!1,null,"81af1d52",null)),M=D.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container col-12"},[r("div",{staticClass:"container col-10"},[r("b-row",[r("b-col",{attrs:{cols:"2"}},[r("b-pagination",{attrs:{"total-rows":e.rows_docs,"aria-controls":"doc-table"},model:{value:e.currentPage_docs,callback:function(t){e.currentPage_docs=t},expression:"currentPage_docs"}})],1),r("b-col",{attrs:{cols:"7"}},[r("b-row",[r("div",{staticClass:"text-left"},[r("b-button",{attrs:{variant:"outline-dark"},on:{click:function(t){return e.resetFiles()}}},[e._v(" Reset ")])],1),e._l(e.displayFilters,(function(t){return r("div",{key:t.id,staticClass:"filterKeywords"},[t.keyword_enabled?r("b-button",{attrs:{variant:"outline-dark"},on:{click:function(r){return e.searchByKeywords(t)}}},[e._v(" "+e._s(t.keyword_name)+" ")]):r("b-button",{staticClass:"filter",attrs:{variant:"dark"},on:{click:function(r){return e.resetKeyword(t)}}},[e._v(" "+e._s(t.keyword_name)+" ")])],1)}))],2)],1),r("b-col",{attrs:{cols:"3"}},[r("div",{staticClass:"text-right"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.filter,expression:"filter",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Quick Search"},domProps:{value:e.filter},on:{keyup:e.filterFiles,input:function(t){t.target.composing||(e.filter=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-upload",modifiers:{"modal-upload":!0}}],staticClass:"icon",attrs:{variant:"outline-dark",size:"sm"}},[r("i",{staticClass:"fas fa-cloud-upload-alt",attrs:{id:"icon"}})])],1)])],1),r("b-row",[r("b-table",{staticClass:"doc-table",attrs:{"head-variant":"dark",hover:"","per-page":e.perPage_docs,"current-page":e.currentPage_docs,items:e.displayItems,fields:e.fields},scopedSlots:e._u([{key:"cell(file_size)",fn:function(t){var a=t.item;return[r("span",[e._v(" "+e._s(e.formatKB(a.file_size)))])]}},{key:"cell(created)",fn:function(t){var a=t.item;return[r("span",[e._v(e._s(e.formatDate(a.created)))])]}},{key:"cell(actions)",fn:function(t){var a=t.item;return[r("b-button",{staticClass:"download",attrs:{variant:"outline-primary"},on:{click:function(t){return e.downloadItem(a)}}},[r("i",{staticClass:"fas fa-download"})])]}}])})],1)],1),r("div",[r("Upload",{attrs:{options:e.options},on:{clicked:e.onFormUpload}})],1)])},A=[],T=(r("a4d3"),r("e01a"),r("4de4"),r("c740"),r("d81d"),r("a434"),r("b0c0"),r("b64b"),r("19de")),B=r.n(T),Y="http://ec2-3-96-168-166.ca-central-1.compute.amazonaws.com:8080/api/",H={download:function(e){return console.log(e),U.a.post(Y+"download/",{id:e.id,storage_name:e.storage_name},{responseType:"blob"}).then((function(t){B()(t.data,e.file_name)})).catch((function(e){console.log(e)}))},upload:function(e){return console.log(e),U.a.post(Y+"upload/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}))},getFiles:function(e){return U.a.get(Y+"file/"+e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},getAllKeywords:function(){return U.a.get(Y+"keywords/").then((function(e){return e.data})).catch((function(e){console.log(e)}))},filterByKeywords:function(e,t){return U.a.post(Y+"filterbykeywords/"+e,t).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"uploads",attrs:{id:"modal-upload",title:"Upload File"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[r("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("b-form-group",[r("b-form-file",{attrs:{state:e.validState("file"),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:e.$v.form.file.$model,callback:function(t){e.$set(e.$v.form.file,"$model",t)},expression:"$v.form.file.$model"}})],1),r("b-form-group",{attrs:{label:"Keywords","label-for":"keyword-input","invalid-feedback":"Please select one or more keywords"}},[r("b-form-select",{attrs:{id:"keyword-input",state:e.validState("keywords"),options:e.options,multiple:"","select-size":4},model:{value:e.$v.form.keywords.$model,callback:function(t){e.$set(e.$v.form.keywords,"$model",t)},expression:"$v.form.keywords.$model"}})],1)],1)])],1)},Q=[],G=r("b5ae"),X={name:"modal-upload",props:{options:Array},data:function(){return{file:null,keywords:[],form:{file:null,keywords:[]}}},validations:{form:{file:{required:G["required"]},keywords:{required:G["required"]}}},methods:{validState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},resetModal:function(){},handleOk:function(e){e.preventDefault(),console.log(this.form.keywords),this.handleSubmit()},handleSubmit:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=4;break}return console.log("Error"),t.abrupt("return");case 4:return r=new FormData,a=e.$store.getters.getID,r.append("userId",a),r.append("files",e.form.file),r.append("keywords",e.form.keywords),t.prev=9,t.next=12,H.upload(r);case 12:s=t.sent,s&&(e.$v.form.$reset(),e.$v.form.keywords.$reset(),e.$v.form.file.$reset(),e.$emit("clicked",!0),e.$nextTick((function(){e.$bvModal.hide("modal-upload")}))),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](9),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[9,16]])})))()}}},V=X,W=Object(d["a"])(V,J,Q,!1,null,null,null),Z=W.exports,ee=r("c1df"),te=r.n(ee),re={components:{Upload:Z},data:function(){return{currentPage_docs:1,perPage_docs:8,username:"",message:"",items:[],displayItems:[],displayKeywords:[],displayFilters:[],keywords:[],filterByKeywords:[],filter:"",userSearch:"",roles:"",options:[],fields:[{key:"file_name",sortable:!0},{key:"file_size",sortable:!1},{key:"created",sortable:!0},{key:"actions"}]}},created:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.getters.isLoggedIn||e.$router.push("/login"),e.username=e.$store.getters.getUser,e.roles=e.$store.getters.getUserRoles,e.getAllFiles(),e.getAllKeywords();case 5:case"end":return t.stop()}}),t)})))()},computed:{nameState:function(){return this.name.length>2},rows_docs:function(){var e=0;return"undefined"!==typeof this.displayItems&&this.displayItems.length>0&&(e=this.displayItems.length),e}},methods:{formatKB:function(e){var t=parseInt(e)/1e3;return t+" kb"},formatDate:function(e){return te()(e).format("MMM DD YYYY")},resetFiles:function(){for(var e=0;e<this.displayFilters.length;e++)this.displayFilters[e].keyword_enabled=!0;this.filterByKeywords=[],this.displayItems=this.items},resetKeyword:function(e){var t=this.displayFilters.findIndex((function(t){return t.id==e.id}));this.displayFilters[t].keyword_enabled=!0,t=this.filterByKeywords.findIndex((function(t){return t.id==e.id})),this.filterByKeywords.splice(t,1)},searchByKeywords:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.filterByKeywords.push(e),a=t.displayFilters.findIndex((function(t){return t.id==e.id})),t.displayFilters[a].keyword_enabled=!1,s=t.$store.getters.getID,r.prev=4,r.next=7,H.filterByKeywords(s,t.filterByKeywords);case 7:n=r.sent,t.displayItems=n.data,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](4),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[4,11]])})))()},onFormUpload:function(e){e&&this.getAllFiles()},deleteItem:function(e){console.log(e)},downloadItem:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.$store.getters.getID,s={id:a,file_name:e.file_name,storage_name:e.storage_name},r.prev=2,r.next=5,H.download(s);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](2),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()},getAllKeywords:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,o,i,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.getAllKeywords();case 3:for(r=t.sent,a=[],s=[],n=[],o=0;o<r.data.length;o++)i={keyword_name:r.data[o].keyword_name,description:r.data[o].description,created:r.data[o].created},l={value:r.data[o].id,text:r.data[o].keyword_name},c={id:r.data[o].id,keyword_enabled:!0,keyword_name:r.data[o].keyword_name},s.push(l),a.push(i),n.push(c);e.displayFilters=n,e.options=s,e.keywords=a,e.displayKeywords=a,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},getAllFiles:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$store.getters.getID,t.next=4,H.getFiles(r);case 4:a=t.sent,e.items=a.data,e.displayItems=a.data,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},filterFiles:function(){var e=this;if(""!=this.filter){var t=this.displayItems.filter((function(t){return Object.keys(t).map((function(r){return"string"===typeof t[r]&&t[r].toLocaleLowerCase().includes(e.filter.toLocaleLowerCase())})).includes(!0)}));this.displayItems=t}else this.displayItems=this.files},onSearch:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$store.getters.getID,t.next=4,H.getFiles(r);case 4:t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},onRowSelected:function(e,t){console.log(e),console.log(t)}}},ae=re,se=(r("7d2e"),Object(d["a"])(ae,z,A,!1,null,"1db2d18e",null)),ne=se.exports,oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-application"},[r("div",{staticClass:"col-12"},[r("b-tabs",{attrs:{pills:"",card:""}},[r("b-tab",{attrs:{title:"Users",active:""}},[r("b-container",{staticClass:"col-10"},[r("b-row",{staticClass:"row",attrs:{"align-h":"between"}},[r("b-col",{staticClass:"text-left",attrs:{cols:"6"}},[r("b-pagination",{attrs:{"total-rows":e.rows_users,"per-page":e.perPage_user,"aria-controls":"user-table"},model:{value:e.currentPage_user,callback:function(t){e.currentPage_user=t},expression:"currentPage_user"}})],1),r("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.filter,expression:"filter",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Filter"},domProps:{value:e.filter},on:{keyup:e.filterUsers,input:function(t){t.target.composing||(e.filter=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-user",modifiers:{"modal-user":!0}}],staticClass:"icon",attrs:{variant:"outline-dark",size:"sm"}},[r("i",{staticClass:"fas fa-user-plus",attrs:{id:"icon"}})])],1)],1),r("b-row",[r("b-table",{staticClass:"user-table",attrs:{"head-variant":"dark",hover:"","per-page":e.perPage_user,"current-page":e.currentPage_user,items:e.displayUsers,fields:e.user_fields},scopedSlots:e._u([{key:"cell(registered)",fn:function(t){var a=t.item;return[r("span",[e._v(e._s(e.formatDate(a.registered)))])]}},{key:"cell(last_login)",fn:function(t){var a=t.item;return[r("span",[e._v(e._s(e.formatDate(a.last_login)))])]}},{key:"cell(actions)",fn:function(t){var a=t.item;return[r("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.onEditItem(a)}}},[e._v("Edit")])]}}])})],1)],1)],1),r("b-tab",{attrs:{title:"Documents"}},[r("b-container",{staticClass:"container col-10"},[r("b-row",[r("b-col",{attrs:{cols:"2"}},[r("b-pagination",{attrs:{"total-rows":e.rows_docs,"aria-controls":"doc-table"},model:{value:e.currentPage_docs,callback:function(t){e.currentPage_docs=t},expression:"currentPage_docs"}})],1),r("b-col",{attrs:{cols:"7"}},[r("b-row",[r("div",{staticClass:"text-left"},[r("b-button",{attrs:{variant:"outline-dark"},on:{click:function(t){return e.resetFiles()}}},[e._v(" Reset ")])],1),e._l(e.displayFilters,(function(t){return r("div",{key:t.id,staticClass:"filterKeywords"},[t.keyword_enabled?r("b-button",{attrs:{variant:"outline-dark"},on:{click:function(r){return e.searchByKeywords(t)}}},[e._v(" "+e._s(t.keyword_name)+" ")]):r("b-button",{staticClass:"filter",attrs:{variant:"dark"},on:{click:function(r){return e.resetKeyword(t)}}},[e._v(" "+e._s(t.keyword_name)+" ")])],1)}))],2)],1),r("b-col",{attrs:{cols:"3"}},[r("div",{staticClass:"text-right"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.filter,expression:"filter",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Quick Search"},domProps:{value:e.filter},on:{keyup:e.filterFiles,input:function(t){t.target.composing||(e.filter=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-upload",modifiers:{"modal-upload":!0}}],staticClass:"icon",attrs:{variant:"outline-dark",size:"sm"}},[r("i",{staticClass:"fas fa-cloud-upload-alt",attrs:{id:"icon"}})])],1)])],1),r("b-row",[r("b-table",{staticClass:"doc-table",attrs:{"head-variant":"dark",hover:"","per-page":e.perPage_docs,"current-page":e.currentPage_docs,items:e.displayFiles,fields:e.doc_fields},scopedSlots:e._u([{key:"cell(file_size)",fn:function(t){var a=t.item;return[r("span",[e._v(" "+e._s(e.formatKB(a.file_size)))])]}},{key:"cell(created)",fn:function(t){var a=t.item;return[r("span",[e._v(e._s(e.formatDate(a.created)))])]}},{key:"cell(actions)",fn:function(t){var a=t.item;return[r("b-button",{staticClass:"download",attrs:{variant:"outline-primary"},on:{click:function(t){return e.downloadItem(a)}}},[r("i",{staticClass:"fas fa-download"})])]}}])})],1)],1)],1),r("b-tab",{attrs:{title:"Keywords"}},[r("b-container",{staticClass:"col-10"},[r("b-row",{staticClass:"row",attrs:{"align-h":"between"}},[r("b-col",{staticClass:"text-left",attrs:{cols:"6"}},[r("b-pagination",{attrs:{"total-rows":e.rows_keywords,"per-page":e.perPage_keywords,"aria-controls":"keywords-table"},model:{value:e.currentPage_keywords,callback:function(t){e.currentPage_keywords=t},expression:"currentPage_keywords"}})],1),r("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.filter,expression:"filter",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Filter"},domProps:{value:e.filter},on:{keyup:e.filterKeywords,input:function(t){t.target.composing||(e.filter=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-keyword",modifiers:{"modal-keyword":!0}}],staticClass:"icon",attrs:{variant:"outline-dark",size:"sm"}},[e._v("New Keyword")])],1)],1),r("b-row",[r("b-table",{staticClass:"keywords-table",attrs:{"head-variant":"dark",hover:"","per-page":e.perPage_keywords,"current-page":e.currentPage_keywords,items:e.displayKeywords,fields:e.keyword_fields},scopedSlots:e._u([{key:"cell(created)",fn:function(t){var a=t.item;return[r("span",[e._v(e._s(e.formatDate(a.created)))])]}}])})],1)],1)],1)],1)],1),r("ModalUpload",{attrs:{options:e.options},on:{clicked:e.onFormUpload}}),r("ModalUser",{attrs:{modalType:"create"},on:{clicked:e.onNewUser}}),r("ModalKeyword",{on:{clicked:e.onNewKeyword}}),r("ModalEditUser",{attrs:{editUser:e.editUser},on:{clicked:e.onEditUser}})],1)},ie=[],le="http://ec2-3-96-168-166.ca-central-1.compute.amazonaws.com:8080/api/admin/",ce={getAllUsers:function(){return U.a.get(le+"users/").then((function(e){return e.data})).catch((function(e){console.log(e)}))},getAllFiles:function(){return U.a.post(le+"files/").then((function(e){return e.data})).catch((function(e){console.log(e)}))},createUser:function(e){return U.a.post(le+"users/",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},updateUser:function(e){return U.a.post(le+"update_users/",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},createKeyword:function(e){return U.a.post(le+"keywords/",e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},getAllKeywords:function(){return U.a.get(le+"keywords/").then((function(e){return e.data})).catch((function(e){console.log(e)}))}},de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"modal",attrs:{id:"modal-user",title:"New User"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[r("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("b-row",[r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"First Name","label-for":"first-name-input","invalid-feedback":"First Name is required"}},[r("b-form-input",{attrs:{id:"first-name-input",state:e.validState("first_name"),required:""},model:{value:e.$v.form.first_name.$model,callback:function(t){e.$set(e.$v.form.first_name,"$model",t)},expression:"$v.form.first_name.$model"}})],1)],1),r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"Last Name","label-for":"last-name-input","invalid-feedback":"Last Name is required"}},[r("b-form-input",{attrs:{id:"last-name-input",state:e.validState("last_name"),required:""},model:{value:e.$v.form.last_name.$model,callback:function(t){e.$set(e.$v.form.last_name,"$model",t)},expression:"$v.form.last_name.$model"}})],1)],1)],1),r("b-form-group",{attrs:{label:"E-Mail","label-for":"email-input","invalid-feedback":"Email is required"}},[r("b-form-input",{attrs:{id:"email-input",state:e.validState("email"),required:""},model:{value:e.$v.form.email.$model,callback:function(t){e.$set(e.$v.form.email,"$model",t)},expression:"$v.form.email.$model"}})],1),r("b-form-group",{attrs:{label:"Username","label-for":"username-input","invalid-feedback":"Username is required"}},[r("b-form-input",{attrs:{id:"username-input",state:e.validState("username"),required:""},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}})],1),r("b-form-group",{attrs:{label:"Password","label-for":"password-input","invalid-feedback":"Password is required"}},[r("b-form-input",{attrs:{id:"password-input",state:e.validState("password"),required:"",type:"password"},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}})],1),r("b-form-group",{attrs:{label:"Confirm Password","label-for":"confirm-password-input","invalid-feedback":"Confirm Password is required"}},[r("b-form-input",{attrs:{id:"confirm-password-input",state:e.validState("confirm_password"),required:"",type:"password"},model:{value:e.$v.form.confirm_password.$model,callback:function(t){e.$set(e.$v.form.confirm_password,"$model",t)},expression:"$v.form.confirm_password.$model"}})],1)],1)])],1)},ue=[],me={name:"modal-user",props:{modalType:String},data:function(){return{msg:"",form:{first_name:null,last_name:null,email:null,username:null,password:null,confirm_password:null}}},validations:{form:{first_name:{required:G["required"],minLength:Object(G["minLength"])(4)},last_name:{required:G["required"],minLength:Object(G["minLength"])(4)},username:{required:G["required"],minLength:Object(G["minLength"])(4)},email:{required:G["required"],minLength:Object(G["minLength"])(4)},password:{required:G["required"],minLength:Object(G["minLength"])(4)},confirm_password:{required:G["required"],minLength:Object(G["minLength"])(4)}}},methods:{validState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},resetModal:function(){},handleOk:function(e){e.preventDefault(),console.log(this.modalType),this.handleSubmit()},handleSubmit:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=4;break}return console.log("Error"),t.abrupt("return");case 4:return t.prev=4,r={username:e.form.username,email:e.form.email,first_name:e.form.first_name,last_name:e.form.last_name,password:e.form.password,password_repeat:e.form.confirm_password},t.next=8,K.signUp(r);case 8:a=t.sent,a&&(e.$v.form.$reset(),e.$v.form.username.$reset(),e.$v.form.email.$reset(),e.$v.form.first_name.$reset(),e.$v.form.last_name.$reset(),e.$v.form.password.$reset(),e.$v.form.confirm_password.$reset(),e.form.username="",e.form.email="",e.form.first_name="",e.form.last_name="",e.form.password="",e.form.confirm_password="",e.$emit("clicked",!0),e.$nextTick((function(){e.$bvModal.hide("modal-user")}))),console.log(a),e.msg=a.msg,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),e.msg=t.t0.response.data.msg;case 17:case"end":return t.stop()}}),t,null,[[4,14]])})))()}}},fe=me,pe=Object(d["a"])(fe,de,ue,!1,null,null,null),ve=pe.exports,be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"keywords",attrs:{id:"modal-keyword",title:"New Keyword"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[r("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("b-form-group",{attrs:{label:"Keyword","label-for":"keyword-name-input","invalid-feedback":"Keyword is required"}},[r("b-form-input",{attrs:{id:"keyword-name-input",state:e.validState("keyword"),required:""},model:{value:e.$v.form.keyword.$model,callback:function(t){e.$set(e.$v.form.keyword,"$model",t)},expression:"$v.form.keyword.$model"}})],1),r("b-form-group",{attrs:{label:"Description","label-for":"description-input","invalid-feedback":"Description is required"}},[r("b-form-input",{attrs:{id:"description-input",state:e.validState("description"),required:""},model:{value:e.$v.form.description.$model,callback:function(t){e.$set(e.$v.form.description,"$model",t)},expression:"$v.form.description.$model"}})],1)],1)])],1)},ge=[],he={name:"modal-keyword",props:{},data:function(){return{form:{keyword:null,description:null}}},validations:{form:{keyword:{required:G["required"],minLength:Object(G["minLength"])(4)},description:{required:G["required"],minLength:Object(G["minLength"])(4)}}},methods:{validState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},resetModal:function(){},handleOk:function(e){e.preventDefault(),this.handleSubmit()},handleSubmit:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("reset me please"),e.$v.form.$touch(),!e.$v.form.$anyError){t.next=5;break}return console.log("Error"),t.abrupt("return");case 5:return r={keyword:e.$v.form.keyword.$model,description:e.$v.form.description.$model},t.prev=6,t.next=9,ce.createKeyword(r);case 9:a=t.sent,a&&(e.form.keyword="",e.form.description="",e.$v.form.$reset(),e.$emit("clicked",!0),e.$nextTick((function(){e.$bvModal.hide("modal-keyword")}))),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](6),console.log(t.t0);case 16:e.$nextTick((function(){e.$bvModal.hide("modal-keyword")}));case 17:case"end":return t.stop()}}),t,null,[[6,13]])})))()}}},we=he,ye=Object(d["a"])(we,be,ge,!1,null,null,null),ke=ye.exports,_e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{ref:"edituser",attrs:{id:"modal-edituser",title:"Edit User"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[r("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[r("b-row",[r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"First Name","label-for":"first-name-input","invalid-feedback":"First Name is required"}},[r("b-form-input",{attrs:{id:"first-name-input",state:e.validState("first_name"),required:""},model:{value:e.$v.form.first_name.$model,callback:function(t){e.$set(e.$v.form.first_name,"$model",t)},expression:"$v.form.first_name.$model"}})],1)],1),r("b-col",{attrs:{cols:"6"}},[r("b-form-group",{attrs:{label:"Last Name","label-for":"last-name-input","invalid-feedback":"Last Name is required"}},[r("b-form-input",{attrs:{id:"last-name-input",state:e.validState("last_name"),required:""},model:{value:e.$v.form.last_name.$model,callback:function(t){e.$set(e.$v.form.last_name,"$model",t)},expression:"$v.form.last_name.$model"}})],1)],1)],1),r("b-form-group",{attrs:{label:"E-Mail","label-for":"email-input","invalid-feedback":"Email is required"}},[r("b-form-input",{attrs:{id:"email-input",state:e.validState("email"),required:""},model:{value:e.$v.form.email.$model,callback:function(t){e.$set(e.$v.form.email,"$model",t)},expression:"$v.form.email.$model"}})],1),r("b-form-group",{attrs:{label:"Username","label-for":"username-input","invalid-feedback":"Username is required"}},[r("b-form-input",{attrs:{id:"username-input",state:e.validState("username"),required:""},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}})],1)],1)])],1)},$e=[],je={name:"modal-edituser",props:{editUser:Object},data:function(){return{msg:"",form:{first_name:null,last_name:null,email:null,username:null}}},watch:{editUser:function(e){this.form.first_name=e.first_name,this.form.last_name=e.last_name,this.form.email=e.email,this.form.username=e.username}},validations:{form:{first_name:{required:G["required"],minLength:Object(G["minLength"])(4)},last_name:{required:G["required"],minLength:Object(G["minLength"])(4)},username:{required:G["required"],minLength:Object(G["minLength"])(4)},email:{required:G["required"],minLength:Object(G["minLength"])(4)}}},methods:{validState:function(e){var t=this.$v.form[e],r=t.$dirty,a=t.$error;return r?!a:null},resetModal:function(){},handleOk:function(e){e.preventDefault(),console.log(this.editUser.id),this.handleSubmit()},handleSubmit:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=4;break}return console.log("Error"),t.abrupt("return");case 4:return t.prev=4,r={id:e.editUser.id,username:e.form.username,email:e.form.email,first_name:e.form.first_name,last_name:e.form.last_name},t.next=8,ce.updateUser(r);case 8:a=t.sent,a&&(e.$emit("clicked",!0),e.$nextTick((function(){e.$bvModal.hide("modal-edituser")}))),console.log(a),e.msg=a.msg,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),e.msg=t.t0.response.data.msg;case 17:case"end":return t.stop()}}),t,null,[[4,14]])})))()}}},xe=je,Ce=Object(d["a"])(xe,_e,$e,!1,null,null,null),Oe=Ce.exports,Ue={components:{ModalUpload:Z,ModalUser:ve,ModalKeyword:ke,ModalEditUser:Oe},data:function(){return{displayUsers:[],displayFiles:[],displayKeywords:[],displayItems:[],displayFilters:[],editUser:{id:null,first_name:null,last_name:null,username:null,email:null},keywords:[],filter:"",filterByKeywords:[],files:[],id:"",message:"",username:"",roles:"",users:[],userSearch:"",options:[],perPage_user:8,currentPage_user:1,perPage_docs:8,currentPage_docs:1,currentPage_keywords:1,perPage_keywords:8,user_fields:[{key:"first_name",sortable:!0},{key:"last_name",sortable:!0},{key:"email",sortable:!0},{key:"username",sortable:!0},{key:"registered",sortable:!0},{key:"last_login",sortable:!0},{key:"actions"}],doc_fields:[{key:"file_name",sortable:!0},{key:"file_size",sortable:!1},{key:"created",sortable:!0},{key:"actions"}],keyword_fields:[{key:"keyword_name",sortable:!0},{key:"description",sortable:!1},{key:"created",sortable:!0}]}},created:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.getters.isLoggedIn||e.$router.push("/login"),e.id=e.$store.getters.getID,e.username=e.$store.getters.getUser,e.roles=e.$store.getters.getUserRoles,e.getAllFiles(),e.getAllUsers(),e.getAllKeywords();case 7:case"end":return t.stop()}}),t)})))()},computed:{rows_users:function(){var e=0;return"undefined"!==typeof this.displayUsers&&this.displayUsers.length>0&&(e=this.displayUsers.length),e},rows_docs:function(){var e=0;return"undefined"!==typeof this.displayFiles&&this.displayFiles.length>0&&(e=this.displayFiles.length),e},rows_keywords:function(){var e=0;return"undefined"!==typeof this.displayKeywords&&this.displayKeywords>0&&(e=this.displayKeywords.length),e}},methods:{formatKB:function(e){var t=parseInt(e)/1e3;return t+" kb"},formatDate:function(e){return te()(e).format("MMM DD YYYY")},downloadItem:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.$store.getters.getID,s={id:a,file_name:e.file_name,storage_name:e.storage_name},r.prev=2,r.next=5,H.download(s);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](2),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[2,7]])})))()},resetKeyword:function(e){var t=this.displayFilters.findIndex((function(t){return t.id==e.id}));this.displayFilters[t].keyword_enabled=!0,t=this.filterByKeywords.findIndex((function(t){return t.id==e.id})),this.filterByKeywords.splice(t,1)},resetFiles:function(){for(var e=0;e<this.displayFilters.length;e++)this.displayFilters[e].keyword_enabled=!0;this.filterByKeywords=[],this.displayFiles=this.files},searchByKeywords:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.filterByKeywords.push(e),a=t.displayFilters.findIndex((function(t){return t.id==e.id})),t.displayFilters[a].keyword_enabled=!1,s=t.$store.getters.getID,r.prev=4,r.next=7,H.filterByKeywords(s,t.filterByKeywords);case 7:n=r.sent,t.displayFiles=n.data,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](4),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[4,11]])})))()},onEditItem:function(e){var t={id:e.id,first_name:e.first_name,last_name:e.last_name,email:e.email,username:e.username};this.editUser=t,this.$bvModal.show("modal-edituser")},onEditUser:function(e){e&&this.getAllUsers()},onFormUpload:function(e){e&&this.getAllFiles()},onNewUser:function(e){e&&this.getAllUsers()},onNewKeyword:function(e){e&&this.getAllKeywords()},getAllKeywords:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,o,i,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.getAllKeywords();case 3:for(r=t.sent,a=[],s=[],n=[],o=0;o<r.data.length;o++)i={keyword_name:r.data[o].keyword_name,description:r.data[o].description,created:r.data[o].created},l={value:r.data[o].id,text:r.data[o].keyword_name},c={id:r.data[o].id,keyword_enabled:!0,keyword_name:r.data[o].keyword_name},s.push(l),a.push(i),n.push(c);e.displayFilters=n,e.options=s,e.keywords=a,e.displayKeywords=a,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},getAllUsers:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.getAllUsers();case 3:for(r=t.sent,a=[],s=0;s<r.data.length;s++)n={id:r.data[s].id,first_name:r.data[s].first_name,last_name:r.data[s].last_name,email:r.data[s].email,username:r.data[s].username,registered:r.data[s].registered,last_login:r.data[s].last_login},a.push(n);e.users=a,e.displayUsers=a,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getAllFiles:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.getAllFiles();case 3:r=t.sent,e.files=r.data,e.displayFiles=r.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},filterUsers:function(){var e=this;if(""!=this.filter){var t=this.displayUsers.filter((function(t){return Object.keys(t).map((function(r){return"string"===typeof t[r]&&t[r].toLocaleLowerCase().includes(e.filter.toLocaleLowerCase())})).includes(!0)}));this.displayUsers=t}else this.displayUsers=this.users},filterFiles:function(){var e=this;if(""!=this.filter){var t=this.displayFiles.filter((function(t){return Object.keys(t).map((function(r){return"string"===typeof t[r]&&t[r].toLocaleLowerCase().includes(e.filter.toLocaleLowerCase())})).includes(!0)}));this.displayFiles=t}else this.displayFiles=this.files},filterKeywords:function(){var e=this;if(""!=this.filter){var t=this.displayKeywords.filter((function(t){return Object.keys(t).map((function(r){return"string"===typeof t[r]&&t[r].toLocaleLowerCase().includes(e.filter.toLocaleLowerCase())})).includes(!0)}));this.displayKeywords=t}else this.displayKeywords=this.keywords}}},Le=Ue,Ke=(r("1e29"),Object(d["a"])(Le,oe,ie,!1,null,"ca6ba17c",null)),Se=Ke.exports,Pe=r("2f62"),Fe=r("0e44");a["default"].use(Pe["a"]);var qe=function(){return{token:"",user:null,id:null,roles:[]}},Ee=new Pe["a"].Store({strict:!0,plugins:[Object(Fe["a"])()],state:qe(),getters:{isLoggedIn:function(e){return e.token},getUser:function(e){return e.user},getID:function(e){return e.id},getUserRoles:function(e){return e.roles}},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_USER:function(e,t){e.user=t},SET_ID:function(e,t){e.id=t},SET_ROLES:function(e,t){e.roles=t},RESET:function(e){Object.assign(e,qe())}},actions:{login:function(e,t){var r=e.commit,a=t.token,s=t.user,n=t.id,o=t.roles;r("SET_TOKEN",a),r("SET_USER",s),r("SET_ID",n),r("SET_ROLES",o),U.a.defaults.headers.common["Authorization"]="Bearer ".concat(a)},logout:function(e){var t=e.commit;t("RESET","")}}});a["default"].use(g["a"]);var Ie=[{path:"/",name:"Home",component:j},{path:"/signup",name:"signup",component:q},{path:"/login",name:"login",component:M},{path:"/documents",name:"documents",component:ne,meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:Se,meta:{requiresAuth:!0,isAdmin:!0}}],Re=new g["a"]({routes:Ie});Re.beforeEach((function(e,t,r){if(e.matched.some((function(e){return e.meta.requiresAuth})))return Ee.state.token?e.matched.some((function(e){return e.meta.isAdmin}))?Ee.state.roles.includes("ROLE_ADMIN")?r():r("/"):r():r("/");r()}));var Ne=Re,De=r("5f5b"),Me=(r("f9e3"),r("1dce")),ze=r.n(Me);r("2dd8"),r("15f5"),r("7051");a["default"].config.productionTip=!1,a["default"].use(De["a"]),a["default"].use(ze.a),U.a.defaults.headers.common["Authorization"]="Bearer ".concat(Ee.state.token),new a["default"]({router:Ne,store:Ee,render:function(e){return e(b)}}).$mount("#app")},"7d2e":function(e,t,r){"use strict";r("0c21")},"85ec":function(e,t,r){},9947:function(e,t,r){},a7b4:function(e,t,r){},a823:function(e,t,r){"use strict";r("9947")},d906:function(e,t,r){"use strict";r("a7b4")},eae3:function(e,t,r){}});
//# sourceMappingURL=app.9c55572b.js.map